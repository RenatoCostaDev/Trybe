<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aula</title>
</head>

<body>
  <ul></ul>

  <script>
    const appendJoke = (joke) => {
      let ul = document.querySelector('ul');
      let li = document.createElement('li');
      li.innerHTML = joke;
      ul.appendChild(li);
    };
        // appendJoke('olá mundo');
    const fetchJoke = () => {
      const param = { headers: { Accept: 'application/json' } };//  cabeçario/req 
      fetch('https://icanhazdadjoke.com/search?term=spider', param)
        .then((response) => {
          // console.log(response);
          response.json()//parse
            .then((data) => {                             // callbackHell
              // console.log(data);
              appendJoke(data.results[0].joke);

              fetch('https://icanhazdadjoke.com/search?term=spider', param)
               .then((response) => {
                 // console.log(response);
                 response.json()//parse
                   .then((data) => {
                     // console.log(data);
                     appendJoke(data.results[0].joke);
                   })
               })
            })
        })
    }





    window.onload = () => fetchJoke();
  </script>
</body>

</html>